2020-05-09 08:41:58	TestClientWorker::TestClientWorker	CODE:500	MSG:WORKER EXIT UNEXPECTED  64 Cannot declare class Handler\PaymentTrade, because the name is already in use in /Users/haolin/work/oilunion/Payment_Service/Handler/PaymentTrade.php on line 662<br>REQUEST_DATA:[no_request_data]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 08:42:12	TestClientWorker::TestClientWorker	CODE:500	MSG:WORKER EXIT UNEXPECTED  64 Cannot declare class Handler\PaymentTrade, because the name is already in use in /Users/haolin/work/oilunion/Payment_Service/Handler/PaymentTrade.php on line 662<br>REQUEST_DATA:[no_request_data]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:11:03	TestClientWorker::TestClientWorker	CODE:500	MSG:WORKER EXIT UNEXPECTED  64 Cannot declare class Handler\PaymentTrade, because the name is already in use in /Users/haolin/work/oilunion/Payment_Service/Handler/PaymentTrade.php on line 662<br>REQUEST_DATA:[no_request_data]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:12:07	BatchTradeOrders::createGeneralBatchTrade	CODE:500	MSG:WORKER EXIT UNEXPECTED  1 Class 'Db\ConfigSchema' not found in /Users/haolin/work/oilunion/Payment_Service/Config/Db.php on line 9<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589022724.682764,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:13:14	BatchTradeOrders::createGeneralBatchTrade	CODE:2002	MSG:PDOException::SQLSTATE[HY000] [2002] Operation timed out<br>#0 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(98): PDO->__construct('mysql:host=10.9...', 'payment_write', '81xcXgZthjQgv*x...', Array)<br>#1 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(241): Db\ShardingConnection->connect('10.9.93.199', 'payment_write', '81xcXgZthjQgv*x...', 'unionoil_paymen...', '3306', Array)<br>#2 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(176): Db\ShardingConnection->addWriteConnection(Object(Model\Sharding\PaymentShardingRule))<br>#3 /Users/haolin/work/oilunion/Payment_Service/Model/Sharding/BatchTradeOrders.php(468): Db\ShardingConnection->write()<br>#4 /Users/haolin/work/oilunion/Payment_Service/Module/Sharding/BatchTradeOrders.php(1181): Model\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', Array, Array, Array)<br>#5 /Users/haolin/work/oilunion/Payment_Service/Handler/BatchTradeOrders.php(544): Module\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1', Array)<br>#6 /Users/haolin/work/oilunion/PHPServer/workers/JmTextWorker.php(130): Handler\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1')<br>#7 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(139): JmTextWorker->process(Array)<br>#8 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(436): RpcWorker->dealProcess('3\nRPC\n412\n{"dat...')<br>#9 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServerWorker->dealInputBase(Resource id #21314, 423, '3\nRPC\n412\n{"dat...', 21314)<br>#10 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(194): Select->loop()<br>#11 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(54): PHPServerWorker->serve(true)<br>#12 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(495): RpcWorker->serve()<br>#13 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(363): PHPServer::forkOneWorker('Payment-Service')<br>#14 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(736): PHPServer::createWorkers()<br>#15 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(553): PHPServer::monitorWorkers()<br>#16 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServer::dealCmdResult(Resource id #541, 0, '', 14550)<br>#17 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(215): Select->loop()<br>#18 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(200): PHPServer::loop()<br>#19 /Users/haolin/work/oilunion/PHPServer/bin/serverd(71): PHPServer::run('')<br>#20 {main}<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589022791.517631,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:19:53	BatchTradeOrders::createGeneralBatchTrade	CODE:2002	MSG:PDOException::SQLSTATE[HY000] [2002] Operation timed out<br>#0 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(98): PDO->__construct('mysql:host=10.9...', 'payment_write', '81xcXgZthjQgv*x...', Array)<br>#1 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(241): Db\ShardingConnection->connect('10.9.93.199', 'payment_write', '81xcXgZthjQgv*x...', 'unionoil_paymen...', '3306', Array)<br>#2 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(176): Db\ShardingConnection->addWriteConnection(Object(Model\Sharding\PaymentShardingRule))<br>#3 /Users/haolin/work/oilunion/Payment_Service/Model/Sharding/BatchTradeOrders.php(468): Db\ShardingConnection->write()<br>#4 /Users/haolin/work/oilunion/Payment_Service/Module/Sharding/BatchTradeOrders.php(1181): Model\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', Array, Array, Array)<br>#5 /Users/haolin/work/oilunion/Payment_Service/Handler/BatchTradeOrders.php(544): Module\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1', Array)<br>#6 /Users/haolin/work/oilunion/PHPServer/workers/JmTextWorker.php(130): Handler\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1')<br>#7 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(139): JmTextWorker->process(Array)<br>#8 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(436): RpcWorker->dealProcess('3\nRPC\n412\n{"dat...')<br>#9 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServerWorker->dealInputBase(Resource id #65, 423, '3\nRPC\n412\n{"dat...', 65)<br>#10 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(194): Select->loop()<br>#11 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(54): PHPServerWorker->serve(true)<br>#12 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(495): RpcWorker->serve()<br>#13 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(363): PHPServer::forkOneWorker('Payment-Service')<br>#14 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(183): PHPServer::createWorkers()<br>#15 /Users/haolin/work/oilunion/PHPServer/bin/serverd(71): PHPServer::run('')<br>#16 {main}<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589023190.168171,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:20:36	BatchTradeOrders::createGeneralBatchTrade	CODE:2002	MSG:PDOException::SQLSTATE[HY000] [2002] Operation timed out<br>#0 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(98): PDO->__construct('mysql:host=10.9...', 'payment_write', '81xcXgZthjQgv*x...', Array)<br>#1 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(241): Db\ShardingConnection->connect('10.9.93.199', 'payment_write', '81xcXgZthjQgv*x...', 'unionoil_paymen...', '3306', Array)<br>#2 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(176): Db\ShardingConnection->addWriteConnection(Object(Model\Sharding\PaymentShardingRule))<br>#3 /Users/haolin/work/oilunion/Payment_Service/Model/Sharding/BatchTradeOrders.php(468): Db\ShardingConnection->write()<br>#4 /Users/haolin/work/oilunion/Payment_Service/Module/Sharding/BatchTradeOrders.php(1183): Model\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', Array, Array, Array)<br>#5 /Users/haolin/work/oilunion/Payment_Service/Handler/BatchTradeOrders.php(544): Module\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1', Array)<br>#6 /Users/haolin/work/oilunion/PHPServer/workers/JmTextWorker.php(130): Handler\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1')<br>#7 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(139): JmTextWorker->process(Array)<br>#8 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(436): RpcWorker->dealProcess('3\nRPC\n412\n{"dat...')<br>#9 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServerWorker->dealInputBase(Resource id #151, 423, '3\nRPC\n412\n{"dat...', 151)<br>#10 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(194): Select->loop()<br>#11 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(54): PHPServerWorker->serve(true)<br>#12 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(495): RpcWorker->serve()<br>#13 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(363): PHPServer::forkOneWorker('Payment-Service')<br>#14 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(736): PHPServer::createWorkers()<br>#15 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(553): PHPServer::monitorWorkers()<br>#16 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServer::dealCmdResult(Resource id #47, 0, '', 21744)<br>#17 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(215): Select->loop()<br>#18 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(200): PHPServer::loop()<br>#19 /Users/haolin/work/oilunion/PHPServer/bin/serverd(71): PHPServer::run('')<br>#20 {main}<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589023233.630023,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:21:06	BatchTradeOrders::createGeneralBatchTrade	CODE:2002	MSG:PDOException::SQLSTATE[HY000] [2002] Operation timed out<br>#0 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(98): PDO->__construct('mysql:host=10.9...', 'payment_write', '81xcXgZthjQgv*x...', Array)<br>#1 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(241): Db\ShardingConnection->connect('10.9.93.199', 'payment_write', '81xcXgZthjQgv*x...', 'unionoil_paymen...', '3306', Array)<br>#2 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(176): Db\ShardingConnection->addWriteConnection(Object(Model\Sharding\PaymentShardingRule))<br>#3 /Users/haolin/work/oilunion/Payment_Service/Model/Sharding/BatchTradeOrders.php(468): Db\ShardingConnection->write()<br>#4 /Users/haolin/work/oilunion/Payment_Service/Module/Sharding/BatchTradeOrders.php(1182): Model\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', Array, Array, Array)<br>#5 /Users/haolin/work/oilunion/Payment_Service/Handler/BatchTradeOrders.php(544): Module\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1', Array)<br>#6 /Users/haolin/work/oilunion/PHPServer/workers/JmTextWorker.php(130): Handler\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1')<br>#7 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(139): JmTextWorker->process(Array)<br>#8 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(436): RpcWorker->dealProcess('3\nRPC\n412\n{"dat...')<br>#9 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServerWorker->dealInputBase(Resource id #273, 423, '3\nRPC\n412\n{"dat...', 273)<br>#10 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(194): Select->loop()<br>#11 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(54): PHPServerWorker->serve(true)<br>#12 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(495): RpcWorker->serve()<br>#13 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(363): PHPServer::forkOneWorker('Payment-Service')<br>#14 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(736): PHPServer::createWorkers()<br>#15 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(553): PHPServer::monitorWorkers()<br>#16 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServer::dealCmdResult(Resource id #190, 0, '', 21939)<br>#17 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(215): Select->loop()<br>#18 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(200): PHPServer::loop()<br>#19 /Users/haolin/work/oilunion/PHPServer/bin/serverd(71): PHPServer::run('')<br>#20 {main}<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589023263.800966,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:21:19	BatchTradeOrders::createGeneralBatchTrade	CODE:2002	MSG:PDOException::SQLSTATE[HY000] [2002] Operation timed out<br>#0 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(98): PDO->__construct('mysql:host=10.9...', 'payment_write', '81xcXgZthjQgv*x...', Array)<br>#1 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(241): Db\ShardingConnection->connect('10.9.93.199', 'payment_write', '81xcXgZthjQgv*x...', 'unionoil_paymen...', '3306', Array)<br>#2 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(176): Db\ShardingConnection->addWriteConnection(Object(Model\Sharding\PaymentShardingRule))<br>#3 /Users/haolin/work/oilunion/Payment_Service/Model/Sharding/BatchTradeOrders.php(469): Db\ShardingConnection->write()<br>#4 /Users/haolin/work/oilunion/Payment_Service/Module/Sharding/BatchTradeOrders.php(1182): Model\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', Array, Array, Array)<br>#5 /Users/haolin/work/oilunion/Payment_Service/Handler/BatchTradeOrders.php(544): Module\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1', Array)<br>#6 /Users/haolin/work/oilunion/PHPServer/workers/JmTextWorker.php(130): Handler\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1')<br>#7 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(139): JmTextWorker->process(Array)<br>#8 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(436): RpcWorker->dealProcess('3\nRPC\n412\n{"dat...')<br>#9 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServerWorker->dealInputBase(Resource id #376, 423, '3\nRPC\n412\n{"dat...', 376)<br>#10 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(194): Select->loop()<br>#11 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(54): PHPServerWorker->serve(true)<br>#12 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(495): RpcWorker->serve()<br>#13 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(363): PHPServer::forkOneWorker('Payment-Service')<br>#14 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(736): PHPServer::createWorkers()<br>#15 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(553): PHPServer::monitorWorkers()<br>#16 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServer::dealCmdResult(Resource id #312, 0, '', 22111)<br>#17 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(215): Select->loop()<br>#18 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(200): PHPServer::loop()<br>#19 /Users/haolin/work/oilunion/PHPServer/bin/serverd(71): PHPServer::run('')<br>#20 {main}<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589023276.865328,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:21:29	BatchTradeOrders::createGeneralBatchTrade	CODE:2002	MSG:PDOException::SQLSTATE[HY000] [2002] Operation timed out<br>#0 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(98): PDO->__construct('mysql:host=10.9...', 'payment_write', '81xcXgZthjQgv*x...', Array)<br>#1 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(241): Db\ShardingConnection->connect('10.9.93.199', 'payment_write', '81xcXgZthjQgv*x...', 'unionoil_paymen...', '3306', Array)<br>#2 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(176): Db\ShardingConnection->addWriteConnection(Object(Model\Sharding\PaymentShardingRule))<br>#3 /Users/haolin/work/oilunion/Payment_Service/Model/Sharding/BatchTradeOrders.php(468): Db\ShardingConnection->write()<br>#4 /Users/haolin/work/oilunion/Payment_Service/Module/Sharding/BatchTradeOrders.php(1182): Model\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', Array, Array, Array)<br>#5 /Users/haolin/work/oilunion/Payment_Service/Handler/BatchTradeOrders.php(544): Module\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1', Array)<br>#6 /Users/haolin/work/oilunion/PHPServer/workers/JmTextWorker.php(130): Handler\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1')<br>#7 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(139): JmTextWorker->process(Array)<br>#8 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(436): RpcWorker->dealProcess('3\nRPC\n412\n{"dat...')<br>#9 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServerWorker->dealInputBase(Resource id #431, 423, '3\nRPC\n412\n{"dat...', 431)<br>#10 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(194): Select->loop()<br>#11 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(54): PHPServerWorker->serve(true)<br>#12 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(495): RpcWorker->serve()<br>#13 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(363): PHPServer::forkOneWorker('Payment-Service')<br>#14 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(736): PHPServer::createWorkers()<br>#15 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(553): PHPServer::monitorWorkers()<br>#16 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServer::dealCmdResult(Resource id #359, 0, '', 22192)<br>#17 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(215): Select->loop()<br>#18 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(200): PHPServer::loop()<br>#19 /Users/haolin/work/oilunion/PHPServer/bin/serverd(71): PHPServer::run('')<br>#20 {main}<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589023286.765089,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:22:44	BatchTradeOrders::createGeneralBatchTrade	CODE:2002	MSG:PDOException::SQLSTATE[HY000] [2002] Operation timed out<br>#0 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(99): PDO->__construct('mysql:host=10.9...', 'payment_write', '81xcXgZthjQgv*x...', Array)<br>#1 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(242): Db\ShardingConnection->connect('10.9.93.199', 'payment_write', '81xcXgZthjQgv*x...', 'unionoil_paymen...', '3306', Array)<br>#2 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(177): Db\ShardingConnection->addWriteConnection(Object(Model\Sharding\PaymentShardingRule))<br>#3 /Users/haolin/work/oilunion/Payment_Service/Model/Sharding/BatchTradeOrders.php(468): Db\ShardingConnection->write()<br>#4 /Users/haolin/work/oilunion/Payment_Service/Module/Sharding/BatchTradeOrders.php(1182): Model\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', Array, Array, Array)<br>#5 /Users/haolin/work/oilunion/Payment_Service/Handler/BatchTradeOrders.php(544): Module\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1', Array)<br>#6 /Users/haolin/work/oilunion/PHPServer/workers/JmTextWorker.php(130): Handler\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1')<br>#7 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(139): JmTextWorker->process(Array)<br>#8 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(436): RpcWorker->dealProcess('3\nRPC\n412\n{"dat...')<br>#9 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServerWorker->dealInputBase(Resource id #551, 423, '3\nRPC\n412\n{"dat...', 551)<br>#10 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(194): Select->loop()<br>#11 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(54): PHPServerWorker->serve(true)<br>#12 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(495): RpcWorker->serve()<br>#13 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(363): PHPServer::forkOneWorker('Payment-Service')<br>#14 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(736): PHPServer::createWorkers()<br>#15 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(553): PHPServer::monitorWorkers()<br>#16 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServer::dealCmdResult(Resource id #414, 0, '', 22273)<br>#17 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(215): Select->loop()<br>#18 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(200): PHPServer::loop()<br>#19 /Users/haolin/work/oilunion/PHPServer/bin/serverd(71): PHPServer::run('')<br>#20 {main}<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589023361.450227,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:35:47	BatchTradeOrders::createGeneralBatchTrade	CODE:2002	MSG:PDOException::SQLSTATE[HY000] [2002] Operation timed out<br>#0 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(99): PDO->__construct('mysql:host=10.9...', 'payments_write', '81xcXgZthjQgv*x...', Array)<br>#1 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(242): Db\ShardingConnection->connect('10.9.93.199', 'payments_write', '81xcXgZthjQgv*x...', 'unionoil_paymen...', '3306', Array)<br>#2 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(177): Db\ShardingConnection->addWriteConnection(Object(Model\Sharding\PaymentShardingRule))<br>#3 /Users/haolin/work/oilunion/Payment_Service/Model/Sharding/BatchTradeOrders.php(468): Db\ShardingConnection->write()<br>#4 /Users/haolin/work/oilunion/Payment_Service/Module/Sharding/BatchTradeOrders.php(1182): Model\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', Array, Array, Array)<br>#5 /Users/haolin/work/oilunion/Payment_Service/Handler/BatchTradeOrders.php(544): Module\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1', Array)<br>#6 /Users/haolin/work/oilunion/PHPServer/workers/JmTextWorker.php(130): Handler\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1')<br>#7 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(139): JmTextWorker->process(Array)<br>#8 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(436): RpcWorker->dealProcess('3\nRPC\n412\n{"dat...')<br>#9 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServerWorker->dealInputBase(Resource id #1371, 423, '3\nRPC\n412\n{"dat...', 1371)<br>#10 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(194): Select->loop()<br>#11 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(54): PHPServerWorker->serve(true)<br>#12 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(495): RpcWorker->serve()<br>#13 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(363): PHPServer::forkOneWorker('Payment-Service')<br>#14 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(736): PHPServer::createWorkers()<br>#15 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(553): PHPServer::monitorWorkers()<br>#16 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServer::dealCmdResult(Resource id #534, 0, '', 22373)<br>#17 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(215): Select->loop()<br>#18 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(200): PHPServer::loop()<br>#19 /Users/haolin/work/oilunion/PHPServer/bin/serverd(71): PHPServer::run('')<br>#20 {main}<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589024144.755409,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:39:17	BatchTradeOrders::createGeneralBatchTrade	CODE:2002	MSG:PDOException::SQLSTATE[HY000] [2002] Operation timed out<br>#0 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(99): PDO->__construct('mysql:host=10.9...', 'payments_write', '81xcXgZthjQgv*x...', Array)<br>#1 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(242): Db\ShardingConnection->connect('10.9.93.199', 'payments_write', '81xcXgZthjQgv*x...', 'unionoil_paymen...', '3306', Array)<br>#2 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(177): Db\ShardingConnection->addWriteConnection(Object(Model\Sharding\PaymentShardingRule))<br>#3 /Users/haolin/work/oilunion/Payment_Service/Model/Sharding/BatchTradeOrders.php(468): Db\ShardingConnection->write()<br>#4 /Users/haolin/work/oilunion/Payment_Service/Module/Sharding/BatchTradeOrders.php(1182): Model\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', Array, Array, Array)<br>#5 /Users/haolin/work/oilunion/Payment_Service/Handler/BatchTradeOrders.php(544): Module\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1', Array)<br>#6 /Users/haolin/work/oilunion/PHPServer/workers/JmTextWorker.php(130): Handler\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1')<br>#7 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(139): JmTextWorker->process(Array)<br>#8 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(436): RpcWorker->dealProcess('3\nRPC\n412\n{"dat...')<br>#9 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServerWorker->dealInputBase(Resource id #1401, 423, '3\nRPC\n412\n{"dat...', 1401)<br>#10 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(194): Select->loop()<br>#11 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(54): PHPServerWorker->serve(true)<br>#12 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(495): RpcWorker->serve()<br>#13 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(363): PHPServer::forkOneWorker('Payment-Service')<br>#14 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(736): PHPServer::createWorkers()<br>#15 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(553): PHPServer::monitorWorkers()<br>#16 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServer::dealCmdResult(Resource id #534, 0, '', 22373)<br>#17 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(215): Select->loop()<br>#18 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(200): PHPServer::loop()<br>#19 /Users/haolin/work/oilunion/PHPServer/bin/serverd(71): PHPServer::run('')<br>#20 {main}<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589024354.813499,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:52:14	TestClientWorker::TestClientWorker	CODE:500	MSG:WORKER EXIT UNEXPECTED  64 Cannot declare class Handler\PaymentTrade, because the name is already in use in /Users/haolin/work/oilunion/Payment_Service/Handler/PaymentTrade.php on line 662<br>REQUEST_DATA:[no_request_data]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 19:52:22	TestClientWorker::TestClientWorker	CODE:500	MSG:WORKER EXIT UNEXPECTED  64 Cannot declare class Handler\PaymentTrade, because the name is already in use in /Users/haolin/work/oilunion/Payment_Service/Handler/PaymentTrade.php on line 662<br>REQUEST_DATA:[no_request_data]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
2020-05-09 20:11:45	BatchTradeOrders::createGeneralBatchTrade	CODE:2002	MSG:PDOException::SQLSTATE[HY000] [2002] Operation timed out<br>#0 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(99): PDO->__construct('mysql:host=10.9...', 'payments_write', '81xcXgZthjQgv*x...', Array)<br>#1 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(242): Db\ShardingConnection->connect('10.9.93.199', 'payments_write', '81xcXgZthjQgv*x...', 'unionoil_paymen...', '3306', Array)<br>#2 /Users/haolin/work/oilunion/Payment_Service/Vendor/Db/ShardingConnection.php(177): Db\ShardingConnection->addWriteConnection(Object(Model\Sharding\PaymentShardingRule))<br>#3 /Users/haolin/work/oilunion/Payment_Service/Model/Sharding/BatchTradeOrders.php(468): Db\ShardingConnection->write()<br>#4 /Users/haolin/work/oilunion/Payment_Service/Module/Sharding/BatchTradeOrders.php(1181): Model\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', Array, Array, Array)<br>#5 /Users/haolin/work/oilunion/Payment_Service/Handler/BatchTradeOrders.php(544): Module\Sharding\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1', Array)<br>#6 /Users/haolin/work/oilunion/PHPServer/workers/JmTextWorker.php(130): Handler\BatchTradeOrders->createGeneralBatchTrade('1', 'weixin', Array, '1')<br>#7 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(139): JmTextWorker->process(Array)<br>#8 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(436): RpcWorker->dealProcess('3\nRPC\n412\n{"dat...')<br>#9 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServerWorker->dealInputBase(Resource id #2601, 423, '3\nRPC\n412\n{"dat...', 2601)<br>#10 /Users/haolin/work/oilunion/PHPServer/core/PHPServerWorker.php(194): Select->loop()<br>#11 /Users/haolin/work/oilunion/PHPServer/workers/RpcWorker.php(54): PHPServerWorker->serve(true)<br>#12 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(495): RpcWorker->serve()<br>#13 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(363): PHPServer::forkOneWorker('Payment-Service')<br>#14 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(736): PHPServer::createWorkers()<br>#15 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(553): PHPServer::monitorWorkers()<br>#16 /Users/haolin/work/oilunion/PHPServer/core/events/Select.php(229): PHPServer::dealCmdResult(Resource id #1765, 0, '', 23186)<br>#17 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(215): Select->loop()<br>#18 /Users/haolin/work/oilunion/PHPServer/core/PHPServer.php(200): PHPServer::loop()<br>#19 /Users/haolin/work/oilunion/PHPServer/bin/serverd(71): PHPServer::run('')<br>#20 {main}<br>REQUEST_DATA:[{"version":"2.0","user":"Optool","password":"82bb6a906a4d69faa7010c4eb28aa4cf","timestamp":1589026301.788458,"class":"BatchTradeOrders","method":"createGeneralBatchTrade","params":["1","weixin",[{"order_id":1,"trade_type":0,"gateway_amount":1.1,"balance_amount":2.2}],"1"]}]<br>	source_ip:127.0.0.1	target_ip:127.0.0.1
